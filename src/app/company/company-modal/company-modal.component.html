<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white w-full max-w-lg p-6 rounded-lg shadow-lg">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold">Company</h2>
        <button (click)="onClose()" class="text-gray-500 hover:text-gray-700">&times;</button>
      </div>
      
      <app-feedback-message [feedbackErrors]="feedbackErrors" [feedbackMessages]="feedbackMessages"></app-feedback-message>

      <form [formGroup]="companyForm" (ngSubmit)="onSubmit()" class="bg-white bg-opacity-90 p-8 rounded-lg shadow-lg max-w-lg w-full">
        <div class="mb-4">
          <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
            placeholder="example@gmail.com"
          />
          <div *ngIf="companyForm.controls['email']?.invalid && companyForm.controls['email']?.touched" class="text-red-500 text-sm">
            Invalid email format
          </div>
        </div>
  
        <div class="mb-4">
          <label for="name" class="block text-sm font-medium text-gray-700">Company Name</label>
          <input 
            type="text" 
            id="name" 
            formControlName="name" 
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
            placeholder="Company Name"
          />
          <div *ngIf="companyForm.controls['name']?.invalid && companyForm.controls['name']?.touched" class="text-red-500 text-sm">
            Name is required
          </div>
        </div>
  
        <div class="mb-4">
          <label for="address" class="block text-sm font-medium text-gray-700">Address</label>
          <input 
            type="text" 
            id="address" 
            formControlName="address" 
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
            placeholder="Street, City, State, Zip Code"
          />
        </div>
  
        <div class="mb-4">
          <label for="phone" class="block text-sm font-medium text-gray-700">Phone</label>
          <input 
            type="text" 
            id="phone" 
            formControlName="phone" 
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
            placeholder="5512992123456"
          />
          <div *ngIf="companyForm.controls['phone']?.invalid && companyForm.controls['phone']?.touched" class="text-red-500 text-sm">
            Invalid phone format
          </div>
        </div>
  
        <div class="mb-4">
          <label for="CNPJ" class="block text-sm font-medium text-gray-700">CNPJ</label>
          <input 
            type="text" 
            id="CNPJ" 
            formControlName="CNPJ" 
            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
            placeholder="00.000.000/0000-00"
          />
          <div *ngIf="companyForm.controls['CNPJ']?.invalid && companyForm.controls['CNPJ']?.touched" class="text-red-500 text-sm">
            Invalid CNPJ format
          </div>
        </div>
    
        <div class="flex justify-end space-x-3">
          <button type="button" (click)="onClose()" class="bg-gray-300 hover:bg-gray-400 text-black py-3 px-4 rounded-md">Cancel</button>
          <button 
            type="submit" 
            [disabled]="companyForm.invalid || loading" 
            class="py-3 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-blue-300"
          >
            <ng-container *ngIf="loading; else updateText">
              <app-loading [isLoading]="loading" loadingText="Saving..."></app-loading>
            </ng-container>
            <ng-template #updateText>Save</ng-template>
          </button>
        </div>
      </form>
    </div>
</div>
  